<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Custom operators · EvoLP</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">EvoLP</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="quickstart.html">Workflow</a></li><li><a class="tocitem" href="algorithms.html">Algorithms</a></li><li><a class="tocitem" href="selection.html">Selection operators</a></li><li><a class="tocitem" href="cross.html">Crossover operators</a></li><li><a class="tocitem" href="mutation.html">Mutation operators</a></li><li><a class="tocitem" href="generators.html">Population generators</a></li><li><a class="tocitem" href="benchmarks.html">Benchmark functions</a></li><li><a class="tocitem" href="results.html">Reporting results</a></li><li><a class="tocitem" href="logbook.html">Logging statistics</a></li><li class="is-active"><a class="tocitem" href="extending.html">Custom operators</a><ul class="internal"><li><a class="tocitem" href="#A-hypothetical-example"><span>A hypothetical example</span></a></li><li><a class="tocitem" href="#A-word-about-randomisation"><span>A word about randomisation</span></a></li></ul></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tuto/oneplusone_onemax.html">The OneMax problem</a></li><li><a class="tocitem" href="../tuto/8_queen.html">The 8 queens problem</a></li><li><a class="tocitem" href="../tuto/ga_rosenbrock.html">GA for continuous optimisation</a></li><li><a class="tocitem" href="../tuto/pso_michalewicz.html">PSO for continuous optimisation</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../lib/types.html">Types</a></li><li><a class="tocitem" href="../lib/functions.html">Functions</a></li></ul></li><li><a class="tocitem" href="../references.html">References &amp; related links</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href="extending.html">Custom operators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="extending.html">Custom operators</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ntnu-ai-lab/EvoLP.jl/blob/main/docs/src/man/extending.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Creating-your-own-blocks"><a class="docs-heading-anchor" href="#Creating-your-own-blocks">Creating your own blocks</a><a id="Creating-your-own-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-your-own-blocks" title="Permalink"></a></h1><p>If you want to experiment with new <em>building blocks</em>, you can create your own by using the <em>abstract</em> block types as a supertype of your own mutators, selectors and crossover methods. These abstract blocks are the following:</p><article class="docstring"><header><a class="docstring-binding" id="EvoLP.CrossoverMethod" href="#EvoLP.CrossoverMethod"><code>EvoLP.CrossoverMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract CrossoverMethod.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ntnu-ai-lab/EvoLP.jl/blob/12ec12a35aed8c9de32f22c9943e5806f73ab42b/src/crossover.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EvoLP.MutationMethod" href="#EvoLP.MutationMethod"><code>EvoLP.MutationMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract MutationMethod.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ntnu-ai-lab/EvoLP.jl/blob/12ec12a35aed8c9de32f22c9943e5806f73ab42b/src/mutation.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EvoLP.SelectionMethod" href="#EvoLP.SelectionMethod"><code>EvoLP.SelectionMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract SelectionMethod.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ntnu-ai-lab/EvoLP.jl/blob/12ec12a35aed8c9de32f22c9943e5806f73ab42b/src/selection.jl#L4-L6">source</a></section></article><p>These abstract types are <strong>not exported</strong> in EvoLP, which means that you will not see them if you used <code>using EvoLP</code> in your code. You need to access them directly, by writing <code>EvoLP.&lt;theabstractblock&gt;</code>.</p><p>Once you have your own type, you need to explicitly code how the <em>block</em> should operate. This is done by creating a new function: <a href="selection.html#EvoLP.select"><code>select</code></a>, <a href="cross.html#EvoLP.cross"><code>cross</code></a> or <a href="mutation.html#EvoLP.mutate"><code>mutate</code></a>, depending on what your abstract supertype is.</p><p>After that, you can use the new blocks in your algorithms like any of the other built-in blocks.</p><h2 id="A-hypothetical-example"><a class="docs-heading-anchor" href="#A-hypothetical-example">A hypothetical example</a><a id="A-hypothetical-example-1"></a><a class="docs-heading-anchor-permalink" href="#A-hypothetical-example" title="Permalink"></a></h2><p>You can use the corresponding <code>AbstractType</code> to create a new mutation method called <code>MyCrazyMutation</code> like so:</p><pre><code class="language-julia hljs">struct MyCrazyMutation &lt;: EvoLP.MutationMethod
    param1
    param2
    param3
end</code></pre><p>Then, we will create a new function <code>mutate</code> which will look something like the following:</p><pre><code class="language-julia hljs">function mutate(M::MyCrazyMutation, ind; rng=Random.GLOBAL_RNG)
    mutant = deepcopy(ind)
    if rand(rng) &lt; param3
        mutant[1] = mutant[1] + M.param1
        mutant[2] = mutant[2] - M.param2
    end

    return mutant
end</code></pre><p>This <code>MyCrazyMutation</code> method will then operate on a hypothetical 2-dimensional individual <code>ind</code>, and will change its first dimension by its <code>param1</code>, and the second dimension using <code>param2</code> if a random number is less than its <code>param3</code>.</p><p>Then, you can use it in your algorithms as if it was any other block. Here is a fake snippet for illustration purposes:</p><pre><code class="language-julia hljs">function myalgorithm(...)
    M = MyCrazyMutation(p1, p2, p3)
    ...
    mutate(M, ind)
    ...
end</code></pre><h2 id="A-word-about-randomisation"><a class="docs-heading-anchor" href="#A-word-about-randomisation">A word about randomisation</a><a id="A-word-about-randomisation-1"></a><a class="docs-heading-anchor-permalink" href="#A-word-about-randomisation" title="Permalink"></a></h2><p>If using random numbers (for example in crossover or mutation operators) it is always a good idea to pass to your function a random number generator instance. In this way, your code can be both used for unit testing as well as for constructing shareable examples that are reproducible for the sake of science.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="logbook.html">« Logging statistics</a><a class="docs-footer-nextpage" href="../tuto/oneplusone_onemax.html">The OneMax problem »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 6 April 2023 19:31">Thursday 6 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
